var app=angular.module("appMod");app.controller("mapController",function(e,n,o){function t(){a=new google.maps.Map(document.getElementById("map"),{center:{lat:37.0902,lng:-95.7129},zoom:3,scrollwheel:!1})}e.singleEvent=[];var l=o.path();e.path=function(){"/events"==l?(console.log(l),document.getElementById("navmob").style.color="#efefef"):"/bio"==l?(console.log(l),document.getElementById("navmob").style.color="#efefef"):(console.log(l),document.getElementById("navmob").style.color="black")},e.path();var a;t(),e.getEvents=function(){n.getAllEvents().then(function(n){function o(e){var n="";return n=e.substring(5,7)+"-"+e.substring(8,10)}for(e.events=n,i=0;i<n.length;i++){var t=new google.maps.Marker({position:{lat:Number(n[i].lat),lng:Number(n[i].lng)},map:a,title:n[i].eventname,date:n[i].eventdate});!function(e,n){google.maps.event.addListener(e,"mouseover",function(){infowindow=new google.maps.InfoWindow({content:"<div>"+e.title+"<br>"+o(e.date)+"</div>"}),infowindow.open(a,e)})}(t,i),function(e,n){google.maps.event.addListener(e,"mouseout",function(){infowindow.close(a,e)})}(t,i)}})},e.getEvents(),e.getEventById=function(o){var t=o;n.getEventInfo(t).then(function(n){e.singleEvent=n,console.log(e.singleEvent)})},e.goToEvent=function(e){o.url("/thisevent?id="+e),console.log(e)}});